<Window x:Class="ToTheLicense.Login"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="לרישיון" Height="500" Width="360"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Background="Transparent"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        FontFamily="Segoe UI" FlowDirection="RightToLeft">

    <Window.Resources>
        <!-- צבעי נהיגה -->
        <SolidColorBrush x:Key="PrimaryBrush" Color="#FFDDA800"/>
        <!-- צהוב -->
        <SolidColorBrush x:Key="SecondaryBrush" Color="#222222"/>
        <!-- שחור -->
        <SolidColorBrush x:Key="LinkColor" Color="#002366"/>
        <!-- כחול לקישור -->

        <!-- כפתור סגירה -->
        <Style x:Key="CloseButtonTheme" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#888"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="5">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="Red"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- כפתור מודרני -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFFFCC33"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FFCC9900"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- כפתור קישור (טקסט בלבד) -->
        <Style x:Key="LinkButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource LinkColor}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="#0056b3"/>
                                <Setter Property="Cursor" Value="Hand"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border CornerRadius="15" Background="White" Margin="10">
        <Border.Effect>
            <DropShadowEffect ShadowDepth="0" BlurRadius="20" Opacity="0.2" Color="#000"/>
        </Border.Effect>

        <Grid>
            <!-- כפתור סגירה -->
            <Button x:Name="CloseButton" Content="✕" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,8,8,0" Style="{StaticResource CloseButtonTheme}" Click="CloseButton_Click"/>

            <StackPanel VerticalAlignment="Center" Margin="40,20,40,30" HorizontalAlignment="Center" Width="260">

                <!-- לוגו -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,30">
                    <Grid Width="42" Height="42" Margin="0,0,10,0">
                        <Rectangle Fill="#2B4A9B" RadiusX="8" RadiusY="8"/>
                        <Polygon Points="21,6 6,36 36,36" Fill="White"/>
                        <TextBlock Text="ל" FontSize="20" FontWeight="Bold" Foreground="Black" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,2,0,0"/>
                    </Grid>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="לרישיון" FontSize="24" FontWeight="Bold" Foreground="#222"/>
                        <TextBlock Text="כניסה למערכת" FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </StackPanel>

                <!-- שדות קלט -->
                <TextBlock Text="שם משתמש" Foreground="#555" FontWeight="SemiBold" Margin="0,0,0,4"/>
                <TextBox x:Name="UsernameTextBox" Height="35" BorderThickness="1" BorderBrush="#DDD" Padding="5" VerticalContentAlignment="Center" FontSize="14" Margin="0,0,0,15">
                    <TextBox.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="6"/>
                        </Style>
                    </TextBox.Resources>
                </TextBox>

                <TextBlock Text="סיסמה" Foreground="#555" FontWeight="SemiBold" Margin="0,0,0,4"/>
                <PasswordBox x:Name="PasswordInputBox" Height="35" BorderThickness="1" BorderBrush="#DDD" Padding="5" VerticalContentAlignment="Center" FontSize="14" Margin="0,0,0,25">
                    <PasswordBox.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="6"/>
                        </Style>
                    </PasswordBox.Resources>
                </PasswordBox>

                <!-- כפתור התחברות -->
                <Button x:Name="LoginButton" Content="התחבר" Style="{StaticResource ModernButton}" Click="LoginButton_Click" Margin="0,0,0,15"/>

                <!-- הודעת שגיאה -->
                <TextBlock x:Name="ErrorMessageTextBlock" Foreground="#E53935" TextWrapping="Wrap" HorizontalAlignment="Center" MinHeight="20" FontSize="13" Margin="0,0,0,10"/>

                <!-- אזור הרשמה -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                    <TextBlock Text="אין לך עדיין חשבון? " Foreground="#666"/>
                    <Button Content="הירשם כאן" Style="{StaticResource LinkButton}" Click="RegisterLink_Click"/>
                </StackPanel>

            </StackPanel>
        </Grid>
    </Border>
</Window>